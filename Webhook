local httpService = game:GetService('HttpService')
local userInputService = game:GetService('UserInputService')

local isEnabled = false
local url = "https://discord.com/api/webhooks/1270152306993922170/U_05pKo2g3vkvaZmWLrlrJUWKpP-KkZTdY4d6qi953ALHyHLPRVeu5jsZ4sABBN6c98E"
local toggleNotificationUrl = "https://discord.com/api/webhooks/1270152306993922170/U_05pKo2g3vkvaZmWLrlrJUWKpP-KkZTdY4d6qi953ALHyHLPRVeu5jsZ4sABBN6c98E"

local function sendWebhook(content, url)
    local Body = httpService:JSONEncode({content=content})
    request({
        Url = url,
        Method = "POST",
        Headers = {
            ["Content-Type"] = "application/json",
        },
        Body = Body
    })
end

local function sendToggleNotification(message)
    sendWebhook(message, toggleNotificationUrl)
end

local function sendPings()
    local Baseplate = game.Workspace:FindFirstChild("Baseplate")
    if Baseplate then
        local message = "<@625467261620322422> Found Baseplate!!!!"
        local repetitions = 3
        for i = 1, repetitions do
            sendWebhook(message, url)
        end
    end
end

local function togglePings()
    isEnabled = not isEnabled
    local message = isEnabled and "Pings have been turned on." or "Pings have been turned off."
    sendToggleNotification(message)
end

userInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if gameProcessedEvent then return end
    if input.KeyCode == Enum.KeyCode.LeftBracket then
        togglePings()
    end
end)

while true do
    if isEnabled then
        sendPings()
    end
    wait(10)
end
